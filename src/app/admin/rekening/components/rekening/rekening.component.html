<app-navbar></app-navbar>
<div class="container-fluid mt-2">
     <div class="row">
          <div class="col-lg-12">
               <div class="card shadow-lg">
                    <div class="card-header d-flex justify-content-between">
                         <h1>Daftar Rekening</h1>
                         <div role="group" class="btn-group btn-group-sm btn-group-justified blocks">
                              <button type="button" class="btn btn-sm btn-primary mr-2"
                                   (click)="createRekening(formRekening)">
                                   <i class="fa fa-plus font-size-14 align-middle mr-1"></i> Tambah Rekening
                              </button>
                         </div>
                    </div>
                    <div class="card-body">
                         <div class="table-responsive">
                              <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                                   class="table table-hover">
                                   <thead class="thead-light">
                                        <tr>
                                             <th scope="col">No</th>
                                             <th scope="col">Nama Pemilik</th>
                                             <th scope="col">Nama Bank</th>
                                             <th scope="col">Nomor Rekening</th>
                                             <th scope="col">Aksi</th>
                                        </tr>
                                   </thead>
                                   <tbody>
                                        <tr *ngFor="let val of listRekening; index as i;">
                                             <th scope="row">{{i+1}}</th>
                                             <td class="vertical-middle">{{val.nama_pemilik}}</td>
                                             <td class="vertical-middle">{{ val.nama_bank }}</td>
                                             <td class="vertical-middle">{{ val.nomor_rekening }}</td>
                                             <td class="vertical-middle text-right">
                                                  <a (click)="updateRekening(val,formRekening)"
                                                       class="btn btn-sm btn-primary" placement="left" container="body"
                                                       ngbTooltip="Edit">
                                                       <i class="fa fa-edit font-size-14"></i> Edit
                                                  </a>
                                                  <a (click)="deleteRekening(val.id)" class="btn btn-sm btn-danger"
                                                       placement="left" container="body" ngbTooltip="Hapus">
                                                       <i class="fa fa-trash font-size-14"></i> Hapus
                                                  </a>
                                             </td>
                                        </tr>
                                   </tbody>
                              </table>
                         </div>
                    </div>
               </div>
          </div>
     </div>
</div>



<ng-template #formRekening let-modal>
     <div class="modal-header">
          <h1 class="modal-title mt-0">{{ titleCard}}</h1>
          <button type="button" class="close" (click)="modal.close()" aria-label="Close">
               <span aria-hidden="true">&times;</span>
          </button>
     </div>
     <div class="modal-body">
          <app-form-rekening [rekeningId]="modelId" (afterSave)="modal.close();reload()"></app-form-rekening>

     </div>
</ng-template>